{{template "header" .}}
{{template "head" .}}
{{$Translate := .translate}}


<section
class=" max-md:ms-0  max-md:max-w-full  w-full max-w-[calc(100%-232px)] ml-auto pt-[48px] min-h-screen">
<header
    class="header-rht max-md:ms-0  max-md:w-full  flex justify-end space-x-[6px] h-[48px] border-b border-[#D9D9D9] p-[8px_16px] items-center fixed top-0 bg-white z-20 w-[calc(100%-232px)] right-0">
    <div class="mr-auto flex items-center space-x-[6px]">
        <a href="javascript:void(0);"
            class=" max-md:grid hidden h-[32px] w-[32px] min-w-[32px] place-items-center bg-[#F5F5F5]">
            <img src="/public/img/menu-button.svg" alt="toggle button" class="w-4 h-4 toggle-button">
        </a>
        <h2 class="text-[16px] font-medium leading-[20px] text-[#252525] whitespace-nowrap">{{$Translate.Memberss.Members}}</h2>
    </div>


        <div class="flex space-x-[12px] configurationContent-btm">

            <a href="/memberaccess/" class="h-8 flex items-center justify-center px-3 text-sm font-normal text-bold-black bg-slate-250 rounded-[4px] no-underline">{{$Translate.Cancel}}</a>
            <button id="save-btn"  class="h-8 flex items-center justify-center px-3 text-sm font-normal text-white  hover:bg-[#148569] bg-[#10A37F] rounded-[4px] no-underline {{if eq .SpaceDefault `space`}}{{if and (eq .SpaceLength 0) (eq .ChannelCount 0)}}btn-disable{{ else if and (eq .SpaceLength 0) (eq .ChannelCount 0) (eq .MembergroupLength 0)}}btn-disable{{end}}{{else}}{{if or (eq .MembergroupLength 0) (eq .ChannelLength 0) }}btn-disable opacity-50{{end}}{{end}}"
            {{if eq .SpaceDefault `space`}}{{if and (eq .SpaceLength 0) (eq .ChannelCount 0)}}disabled{{else if and (eq .SpaceLength 0) (eq .ChannelCount 0) (eq .MembergroupLength 0)}}disabled{{end}}{{else}}{{if or (eq .MembergroupLength 0) (eq .ChannelLength 0) }}disabled{{end}}{{end}}>
            {{if eq .Button "Save"}}
            {{$Translate.Save}}
            {{else if eq .Button "Copy"}}
            {{$Translate.Copy}}
            {{else if eq .Button "Update"}}
            {{$Translate.Update}}
            {{end}}
        </button>
        </div>
</header>

<section class="h-full">
    <div class="px-[16px] py-[12px] flex items-start space-x-[16px] border-b border-[#EDEDED]">
        <input type="hidden" id="csrf-input" value="{{.csrf}}">
        <input type="hidden" id="route-type" value="{{.Button}}">
            <h3 class="text-[#262626] text-sm font-normal mb-0 mt-[8px]">{{$Translate.ContentAccessControl.Title}}</h3>

          <div class="w-full">
            <input type="text"  value="{{.AccessControl.AccessControlName}}" id="ca-inpt" maxlength="25"
            class=" [&amp;+label]:text-[#F26674] [&amp;+label]:font-normal [&amp;+label]:text-xs border border-[#EDEDED] px-[12px] h-[34px] rounded text-[#152027] text-sm font-normal w-full checklength"
            placeholder="{{$Translate.ContentAccessControl.Memberaccesstitle}}..." />
            <label style="display: none;" id="ca-inpt-error">{{$Translate.ContentAccessControl.Titlevailderr}}</label>
            <p class="text-xs text-[#F26674] mt-1 hidden lengthErr">You have reached a maximum limit
                of 25
                characters
            </p>
        </div>

    </div>

    <div class="grid grid-sub h-calc-30">
        <div class="flex flex-col">
            <div
                class="flex space-x-[16px] items-center justify-between pr-[16px] lg:pr-0 pl-[16px] py-[16px] border-b border-[#EDEDED]">
                <div class="flex flex-col space-y-[4px]">
                    <h3 class="text-[#152027] text-sm font-normal mb-0">{{$Translate.ContentAccessControl.Content}}</h3>
                    <p class="text-[#B6B6B7] text-[11px] font-normal mb-0 line-clamp-none lg:line-clamp-1">
                        {{$Translate.ContentAccessControl.Contentdesc}}</p>
                </div>
                <div class="min-w-px w-px h-[30px] bg-[#ECECEC] hidden lg:block"></div>
            </div>
            <div class="p-[16px] flex flex-col space-y-[12px] border-r border-[#ECECEC] h-full">
                <a href="#"
                    class="border border-[#ECECEC] hover:bg-[#F5F5F5] flex justify-between he-52 items-center rounded pl-[12px] pr-[18px] ">
                    <div class="flex flex-col space-y-[4px]">
                        <h6 class="text-[#262626] font-normal text-sm mb-0">{{$Translate.Channell.Channels}}</h6>
                        <p class="text-[#717171] text-[11px] font-normal mb-0">Total Channels: {{.ChannelCount}}</p>
                    </div>
                    <div class="w-[16px] h-[16px] flex items-center justify-center">
                        <img src="/public/img/dash-arrow.svg" />
                    </div>
                </a>
            </div>
        </div>


        <div class="flex flex-col">
            <div
                class="flex space-y-[16px] items-start sm:items-center sm:flex-row flex-col  justify-between pr-[16px] lg:pr-0 pl-[16px] py-[16px] border-b border-[#EDEDED]">
                <div class="flex flex-col space-y-[4px]">
                    <h3 class="text-[#152027] text-sm font-normal mb-0">{{$Translate.Channell.Channels}}</h3>
                    <p class="text-[#B6B6B7] text-[11px] font-normal mb-0 line-clamp-none lg:line-clamp-1">{{$Translate.ContentAccessControl.Contentdesc}}</p>
                </div>
                <div class="sm:flex hidden space-x-[12px] items-center">
                    <div
                        class=" w-[32px]  h-[32px] flex items-center justify-center relative transition-all duration-300 ease-in-out rounded-[4px]">
                        <a href="javascript:void(0);"
                            class="srchBtn-togg group grid h-full w-[32px] place-items-center absolute left-0 top-0  hover:bg-[#F0FFFB]">
                            <img src="/public/img/search-icon.svg" alt="search" class="block group-hover:hidden ">
                            <img src="/public/img/search-icon-active.svg" alt="search"
                                class="hidden group-hover:block ">

                        </a>

                        <input type="text" placeholder="{{$Translate.Csearch}}" name="" id="restrict-searchinput"
                            class="text-[12px] font-light leading-[15px] flex-grow border-0 outline-none w-0 p-0 hidden  absolute right-0 channel-srch-input">
                            <button class="closesearch-btn absolute right-[16px]" type="button" style="display: none;"><img src="/public/img/removeCover.svg"></button>

                        </div>
                    <div class="min-w-px w-px h-[30px] bg-[#ECECEC] lg:block hidden "></div>
                </div>
            </div>



            <div class="flex flex-col h-full">

                {{if .ChannelDetails}}
                {{range .ChannelDetails}}
                <div class="accordion channel-row" id="accordionExample1">
                    <div class="accordion-item border-0">
                        <h2 class="accordion-header flex justify-between items-center border-[#EDEDED] border-b p-[16px]"
                            id="headingOne">
                            <a class="chk-group chk-group-label dropdown-item  items-center flex accessAccord-parent">
                                <input type="checkbox" id="channel{{.Id}}"  data-id="{{.Id}}" class="hidden peer channelchkbox">
                                <label for="channel{{.Id}}"
                                    class=" h-[14px] relative cursor-pointer flex w-fit  items-center text-[14px] font-normal leading-[1] text-[#262626] tracking-[0.005em]
                                    before:bg-transparent before:w-[14px] before:h-[14px] before:inline-block before:relative before:align-middle before:cursor-pointer before:bg-[url('/public/img/unchecked-box.svg')] before:bg-no-repeat before:bg-contain before:-webkit-appearance-none before:mr-[6px] peer-checked:before:bg-[url('/public/img/checked-box.svg')]">
                                    <p class="text-bold-black text-xs font-light mb-0">{{.ChannelName}}</p>
                                </label>
                            </a>
                            <button
                                class=" whitespace-nowrap flex justify-center items-center hover:bg-[#F5F5F5] w-6 h-6 rounded-sm border-0  focus:shadow-none accord collapsed bg-transparent"
                                type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne{{.Id}}"
                                aria-expanded="true" aria-controls="collapseOne">
                                <img src="/public/img/dash-arrow.svg" />
                            </button>
                        </h2>
                        {{$ChannelId := .Id}}
                        <div id="collapseOne{{.Id}}" class="accordion-collapse collapse"
                            aria-labelledby="headingOne" data-bs-parent="#accordionExample1">
                            <div class="px-[16px] py-[12px] flex flex-col space-y-[12px] border-[#EDEDED] border-b">
                                {{range .ChannelEntries}}
                                <a class="chk-group chk-group-label dropdown-item  items-center flex ">
                                    <input type="checkbox" id="ChannelEntry{{.Id}}" data-id="{{.Id}}"  data-chanid="{{$ChannelId}}" class="hidden peer chanEntry-chkbox">
                                    <label for="ChannelEntry{{.Id}}"
                                        class=" h-[14px] relative cursor-pointer flex w-fit  items-center text-[14px] font-normal leading-[1] text-[#262626] tracking-[0.005em]
                                    before:bg-transparent before:w-[14px] before:h-[14px] before:inline-block before:relative before:align-middle before:cursor-pointer before:bg-[url('/public/img/unchecked-box.svg')] before:bg-no-repeat before:bg-contain before:-webkit-appearance-none peer-checked:before:bg-[url('/public/img/checked-box.svg')] before:mr-[6px] ">
                                        <p class="text-bold-black text-xs font-light mb-0">{{.Title}}</p>
                                    </label>
                                </a>
                                {{end}}
                            </div>
                        </div>
                    </div>
                </div>
                {{end}}
                {{else}}
                <tr>
                    <td colspan="9">
                        <div class="max-w-[328px] mx-auto text-center m-[120px_16px]">
                            <div class="text-center w-fit mx-auto">
                                <img src="/public/img/noData.svg" alt="nodate">
                            </div>
                            <h2 class="text-[#262626] text-center text-[18px] font-medium leading-[22.5px] mb-[6px] ">
                                {{$Translate.Oopsnodata}}</h2>
                            <p class="text-[#717171] text-center text-[12px] font-normal leading-[15px] mb-[8px] ">
                                {{$Translate.Pagesorry}}
                                {{$Translate.Gobackhome}}</p>
                        </div>

                    </td>
                </tr>
                {{end}}
            </div>
        </div>

        <div class="flex flex-col">

            <div
                class="flex space-x-[16px] items-center pl-[16px] pr-[16px] lg:pr-0 py-[16px] border-b border-[#EDEDED]">

                <div class="flex flex-col space-y-[4px]">
                    <h3 class="text-[#152027] text-sm font-normal mb-0">{{$Translate.ContentAccessControl.Accesstomembergroups}}</h3>
                    <p class="text-[#B6B6B7] text-[11px] font-normal mb-0 line-clamp-none lg:line-clamp-1">
                        {{$Translate.ContentAccessControl.Memberdesc}}</p>
                </div>
            </div>


            <div class="bg-[#FAFAFA] p-[16px] h-full">
                {{if .Membergroup}}
                <div
                    class="flex items-center justify-between pb-[16px] border-b mb-[16px] border-[#E0E0E0]">
                    <h3 class="text-[#525252] text-sm font-normal mb-0">{{$Translate.Selectall}}</h3>
                    <label for="memgrp-slctall"
                        class="flex items-center cursor-pointer select-none text-dark dark:text-white">
                        <div class="relative">
                            <input type="checkbox" id="memgrp-slctall" class="peer sr-only" />
                            <div class="block h-4 rounded-full dark:bg-dark-2 bg-gray-3 w-[30px]"></div>
                            <div
                                class="absolute w-3 h-3 transition bg-white rounded-full dot dark:bg-dark-4 left-0.5 top-0.5  peer-checked:translate-x-full peer-checked:bg-primary">
                            </div>
                        </div>
                    </label>
                </div>
                {{range .Membergroup}}
                <div
                    class="flex items-center justify-between pb-[16px] border-b mb-[16px] border-[#E0E0E0] ">
                    <h3 class="text-[#525252] text-sm font-normal mb-0">{{.Name}}</h3>
                    <label for="ckb{{.Id}}"
                        class="flex items-center cursor-pointer select-none text-dark dark:text-white">
                        <div class="relative">
                            <input type="checkbox" id="ckb{{.Id}}"  data-id="{{.Id}}" class="peer sr-only memgrp-chkboxes" />
                            <div class="block h-4 rounded-full dark:bg-dark-2 bg-gray-3 w-[30px]"></div>
                            <div
                                class="absolute w-3 h-3 transition bg-white rounded-full dot dark:bg-dark-4 left-0.5 top-0.5  peer-checked:translate-x-full peer-checked:bg-primary">
                            </div>
                        </div>
                    </label>
                </div>
                {{end}}
                {{end}}
            </div>
        </div>
    </div>
</section>
</section>

{{template "footer" .}}
<script src="/public/js/content-access-control/contentaccesscontrol.js"></script>
{{template "footerclose" .}}